@using EliteAthleteApp.Models.User

@model UserInfoVM

<div class="row">
	<div class="col-md-3">
		<div class="media-upload-box">
			@if (string.IsNullOrEmpty(Model.UserVM.ImageUrl))
			{
				<form asp-action="UploadImage" enctype="multipart/form-data">
					<input type="hidden" name="userId" value="@Model.UserVM.Id" />
					<label for="imageUpload" class="upload-icon">⬆</label>
					<input type="file" name="imageUpload" id="imageUpload" class="d-none" accept="image/*" />
					<div class="preview-thumbnail">
						<img id="previewImg" src="" class="img-thumbnail d-none" />
					</div>
					<button type="submit" class="remove-media">O</button>
				</form>
			}
			else
			{
				<form asp-action="DeleteImage">
					<input type="hidden" name="userId" value="@Model.UserVM.Id" />
					<img src="https://drive.google.com/thumbnail?authuser=0&sz=w320&id=@Model.UserVM.ImageUrl" class="img-thumbnail" style="width: 100%; height: auto;" alt="User uploaded image" />
					<button type="submit" class="remove-media">X</button>
				</form>
			}
		</div>
	</div>
	<div class="col-md-3">
		<strong>First Name:</strong><p class="text-white">@Model.UserVM.FirstName</p>
		<strong>Last Name:</strong> <p class="text-white">@Model.UserVM.LastName</p>
		<strong>Invite Code:</strong> <p class="text-white">
			@Model.InviteCode
			<a asp-action="ResetInviteCode" class="btn btn-sm btn-danger">Reset Code</a>
		</p>
		@if (Model.CoachVM != null)
		{
			<strong>Coach:</strong> <p class="text-white">
				@Model.CoachVM.FirstName @Model.CoachVM.LastName
				<a asp-action="DeleteCoach" class="btn btn-sm btn-danger">Delete Coach</a>
				<a asp-action="Chat" asp-route-userId="@Model.CoachVM.Id" asp-controller="Users" class="btn btn-sm btn-danger">Chat</a>
			</p>
		}
		@if (Model.NewCoachVM != null)
		{
			<strong>You were invited by:</strong>
			<p class="text-white">
				@Model.NewCoachVM.FirstName @Model.NewCoachVM.LastName
				<a asp-action="AcceptInvite" class="btn btn-sm btn-success me-2">Accept</a>
				<a asp-action="DeclineInvite" class="btn btn-sm btn-danger">Decline</a>
			</p>
		}
	</div>
</div>
