@using TrainingPlanApp.Web.Constants
@model TrainingPlanExerciseDetailsVM

@{
	ViewData["Title"] = "ExerciseDetails";
}

<h1>@Model.Exercise.Name</h1>

<table class="table">
	<tbody>
		<tr>
			<td>
				<dl class="row">
					<dt class="col-sm-2">
						@Html.DisplayNameFor(model => model.Exercise.Name)
					</dt>
					<dd class="col-sm-10">
						@Html.DisplayFor(model => model.Exercise.Name)
					</dd>
					<dt class="col-sm-2">
						@Html.DisplayNameFor(model => model.Exercise.Description)
					</dt>
					<dd class="col-sm-10">
						@Html.DisplayFor(model => model.Exercise.Description)
					</dd>
					<dd class="col-sm-12">
						@{
							var mainVideoUrl = Model.Exercise.VideoLink;
							var mainVideoId = mainVideoUrl.Split(new[] { "v=" }, StringSplitOptions.None)[1];
							var mainEmbedUrl = "https://www.youtube.com/embed/" + mainVideoId;
						}
						<iframe width="560" height="315" src="@mainEmbedUrl" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
					</dd>
				</dl>
			</td>
		</tr>
	</tbody>
</table>

<div>
	<a asp-action="ActiveTrainingPlans" class="btn btn-secondary" asp-route-id="@Model.UserId">Back to List</a>
</div>